<!DOCTYPE html>
<html lang="vi">
<head>
<link rel="stylesheet" href="styles.css"> 

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Táº¡o QR LiÃªn Káº¿t (PhiÃªn Báº£n CÃ¡ NhÃ¢n)</title>
  
  <script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.0/build/qrcode.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@300..700&display=swap" rel="stylesheet">
  
  <link rel="stylesheet" href="style.css"> 
</head>
<body>
  <button class="menu-toggle" onclick="document.querySelector('.side-menu').classList.toggle('open')">
    <i class="fas fa-bars"></i>
  </button>
  
  <div class="side-menu">
    
      <a href="index.html">Trang Chá»§</a>
      <a href="banggia.html">Báº£ng GiÃ¡</a>
      <a href="khodv.html">Kho Dá»‹ch Vá»¥ KhÃ¡ch</a>
      <a href="khoad.html">Kho Dá»‹ch Vá»¥ Admin</a>
      <a href="taoqr.html">Táº¡o QR tá»« link</a>
      <a href="muachu.html">MÆ°a Chá»¯</a>
    <a href="share.html">Nguá»“n TÃ i NguyÃªn Miá»…n PhÃ­</a>
   </div>

  <h1>âœ¨ Táº¡o QR LiÃªn Káº¿t âœ¨</h1>
  <input type="text" id="link-input" placeholder="Nháº­p link táº¡i Ä‘Ã¢y vÃ­ dá»¥: https://trongnghia1759.github.io/">
  <div class="color-picker">
    MÃ u QR: <input type="color" id="color-picker" value="#00f7ff">
  </div>
  <br>
  
  <button class="qr-button generate" onclick="generateQR()">
    <i class="fas fa-magic"></i> Táº¡o QR
  </button>
  <button class="qr-button" onclick="clearQR()">
    <i class="fas fa-times-circle"></i> XÃ³a QR
  </button>

  <div id="qr-container"></div>
  <a id="download-link" class="download-link" download="qr-code.png" style="display:none;">
    <i class="fas fa-download"></i> Táº£i QR vá» mÃ¡y
  </a>
  
  <div id="music-bot" class="music-bot" onclick="toggleMusic()">
    <i class="fas fa-compact-disc"></i>
    <span>ğŸµ Nghe Nháº¡c Chill</span>
  </div>
  
  <audio id="chill-music" loop>
    <source src="placeholder.mp3" type="audio/mpeg"> 
  </audio>


  <div class="footer">
    âš ï¸ Link sai váº«n táº¡o QR nhÆ°ng khÃ´ng quÃ©t Ä‘Æ°á»£c <br><br>
    FB: ÄÃ m Trá»ng NghÄ©a (Bo)<br>
    TikTok: bo1759
  </div>

  <script>
    // GIá»® NGUYÃŠN CHá»¨C NÄ‚NG Táº O QR Cá»¦A FILE Gá»C
    function generateQR() {
      const link = document.getElementById("link-input").value.trim();
      const color = document.getElementById("color-picker").value;
      const qrContainer = document.getElementById("qr-container");
      const downloadLink = document.getElementById("download-link");

      qrContainer.innerHTML = "";
      downloadLink.style.display = "none";

      if (link === "") {
        alert("ğŸŒ¸ Vui lÃ²ng nháº­p liÃªn káº¿t.");
        return;
      }

      const canvas = document.createElement("canvas");
      // Sá»­ dá»¥ng thÆ° viá»‡n QRCode.js
      QRCode.toCanvas(canvas, link, {
        color: {
          dark: color,
          light: "#00000000" // ná»n trong suá»‘t
        },
        width: 256
      }, function (error) {
        if (error) {
          console.error(error);
          alert("âš ï¸ Lá»—i khi táº¡o mÃ£ QR!");
        } else {
          qrContainer.appendChild(canvas);
          downloadLink.href = canvas.toDataURL("image/png");
          downloadLink.style.display = "inline-block";
        }
      });
    }

    function clearQR() {
      document.getElementById("qr-container").innerHTML = "";
      document.getElementById("download-link").style.display = "none";
    }

    // Enter Ä‘á»ƒ táº¡o QR
    document.getElementById("link-input").addEventListener("keypress", function(e) {
      if (e.key === "Enter") {
        generateQR();
      }
    });
    
    // CHá»¨C NÄ‚NG MUSIC BOT Má»šI
    const musicBot = document.getElementById('music-bot');
    const chillMusic = document.getElementById('chill-music');

    function toggleMusic() {
      // Kiá»ƒm tra xem Ä‘Ã£ thÃªm nguá»“n nháº¡c chÆ°a
      // Viá»‡c thÃªm tháº» <source> trong HTML Ä‘Ã£ kháº¯c phá»¥c Ä‘Æ°á»£c lá»—i nÃ y, nhÆ°ng giá»¯ láº¡i check Ä‘á»ƒ phÃ²ng trÆ°á»ng há»£p lá»—i load file
      if (chillMusic.hasChildNodes() && chillMusic.querySelector('source').getAttribute('src') !== 'placeholder.mp3') {
          if (chillMusic.paused) {
            chillMusic.play();
            musicBot.classList.add('playing');
            musicBot.querySelector('span').textContent = 'ğŸ”Š Äang PhÃ¡t Nháº¡c...';
          } else {
            chillMusic.pause();
            musicBot.classList.remove('playing');
            musicBot.querySelector('span').textContent = 'ğŸµ Nghe Nháº¡c Chill';
          }
      } else {
          alert('ğŸ¶ Vui lÃ²ng thay Ä‘á»•i "placeholder.mp3" báº±ng Ä‘Æ°á»ng dáº«n file nháº¡c cá»§a báº¡n trong tháº» <audio> Ä‘á»ƒ kÃ­ch hoáº¡t chá»©c nÄƒng nÃ y!');
      }
    }
  </script>
</body>
</html>
